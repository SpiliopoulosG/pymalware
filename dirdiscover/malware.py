import requests
from termcolor import colored
import argparse

def get_arguments():
    parser = argparse.ArgumentParser(description="Network Scanner")
    parser.add_argument("-u", "--url", type=str, help="Url to discover directories", required=True)
    parser.add_argument("-f", "--file", type=str, help="File with directories", required=True)
    args = parser.parse_args()
    return args

def request(url):
    try:
        return requests.get("http://" + url)
    except requests.exceptions.ConnectionError:
        pass

args = get_arguments()
file = open(args.file, 'r')
for line in file:
    directory = line.strip()
    full_url = args.url + "/" + directory
    response = request(full_url)
    if response:
        print(colored("[+] Discovered Directory at this path %s" % full_url, 'green'))